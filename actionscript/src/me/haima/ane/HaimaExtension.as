package me.haima.ane{	import flash.events.EventDispatcher;	import flash.events.StatusEvent;	import flash.external.ExtensionContext;
		[Event(name="status", type="flash.events.StatusEvent")]	/**	 * 海马助手ANE	 * 	 * @author czq	 * 	 */		public class HaimaExtension extends EventDispatcher	{		private static var _extContext:ExtensionContext;				private static var EXTENSION_ID:String = 'me.haima.extension';				public function HaimaExtension()		{					}				private static var _instance:HaimaExtension;				public static function getInstance():HaimaExtension		{			if (!_instance)			{				_instance = new HaimaExtension();				_extContext=ExtensionContext.createExtensionContext(EXTENSION_ID, null);				_extContext.addEventListener(StatusEvent.STATUS, onStatus);				if (!_extContext)				{					trace("extension.xml出错啦！！！！请对应上EXTENSION_ID是否与extenion.xml里的id想同");				}			}			return _instance;		}				private static function onStatus(e:StatusEvent):void		{			_instance.dispatchEvent(e);		}				/**		 * 用户登陆 		 * 		 */							public function login():void		{			if (_extContext){				_extContext.call("login");			}		}				/**		 * 海马助手初始化 		 * @param appkey		 * @param appid		 * 		 */				public function init(appkey:String, appid:String):void		{			if (_extContext){				_extContext.call("init", appkey, appid);			}		}				/**		 * 海马支付 		 * @param exOrderNo		 * @param waresId		 * @param notifyUrl		 * @param price		 * @param cppPrivateInfo		 * 		 */				public function pay(exOrderNo:String, waresId:int, notifyUrl:String, price:int, cppPrivateInfo:String):void		{			if (_extContext){				_extContext.call("pay", exOrderNo, waresId, notifyUrl, price, cppPrivateInfo);			}		}	}}